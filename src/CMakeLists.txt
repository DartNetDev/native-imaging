cmake_minimum_required(VERSION 3.6)
project(Imaging)

add_definitions(-DBMP_SUPPORTED -DPPM_SUPPORTED)
add_library(Imaging SHARED Blend.c BoxBlur.c Copy.c Except.c extra.c Geometry.c Palette.c Resample.c Storage.c blurhash/encode.c libjpeg-turbo/cdjpeg.c libjpeg-turbo/jaricom.c libjpeg-turbo/jcapimin.c libjpeg-turbo/jcapistd.c libjpeg-turbo/jcarith.c libjpeg-turbo/jccoefct.c libjpeg-turbo/jccolor.c libjpeg-turbo/jcdctmgr.c libjpeg-turbo/jchuff.c libjpeg-turbo/jcicc.c libjpeg-turbo/jcinit.c libjpeg-turbo/jcmainct.c libjpeg-turbo/jcmarker.c libjpeg-turbo/jcmaster.c libjpeg-turbo/jcomapi.c libjpeg-turbo/jcparam.c libjpeg-turbo/jcphuff.c libjpeg-turbo/jcprepct.c libjpeg-turbo/jcsample.c libjpeg-turbo/jctrans.c libjpeg-turbo/jdapimin.c libjpeg-turbo/jdapistd.c libjpeg-turbo/jdarith.c libjpeg-turbo/jdatadst.c libjpeg-turbo/jdatadst-tj.c libjpeg-turbo/jdatasrc.c libjpeg-turbo/jdatasrc-tj.c libjpeg-turbo/jdcoefct.c libjpeg-turbo/jdcolor.c libjpeg-turbo/jddctmgr.c libjpeg-turbo/jdhuff.c libjpeg-turbo/jdicc.c libjpeg-turbo/jdinput.c libjpeg-turbo/jdmainct.c libjpeg-turbo/jdmarker.c libjpeg-turbo/jdmaster.c libjpeg-turbo/jdmerge.c libjpeg-turbo/jdphuff.c libjpeg-turbo/jdpostct.c libjpeg-turbo/jdsample.c libjpeg-turbo/jdtrans.c libjpeg-turbo/jerror.c libjpeg-turbo/jfdctflt.c libjpeg-turbo/jfdctfst.c libjpeg-turbo/jfdctint.c libjpeg-turbo/jidctflt.c libjpeg-turbo/jidctfst.c libjpeg-turbo/jidctint.c libjpeg-turbo/jidctred.c libjpeg-turbo/jmemmgr.c libjpeg-turbo/jmemnobs.c libjpeg-turbo/jquant1.c libjpeg-turbo/jquant2.c libjpeg-turbo/jsimd_none.c libjpeg-turbo/jutils.c libjpeg-turbo/rdbmp.c libjpeg-turbo/rdcolmap.c libjpeg-turbo/rdppm.c libjpeg-turbo/rdswitch.c libjpeg-turbo/tjutil.c libjpeg-turbo/transupp.c libjpeg-turbo/turbojpeg.c libjpeg-turbo/wrbmp.c libjpeg-turbo/wrppm.c)
target_include_directories(Imaging PRIVATE libjpeg-turbo ${CMAKE_CURRENT_BINARY_DIR}/libjpeg-turbo)
target_link_libraries(Imaging m)

set_property(TARGET Imaging PROPERTY INTERPROCEDURAL_OPTIMIZATION True)
